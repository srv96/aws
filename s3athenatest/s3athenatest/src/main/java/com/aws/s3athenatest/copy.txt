// Create a new AthenaClient object
AthenaClient client = AthenaClient.builder()
    .region(Region.US_WEST_2)
    .build();

// Set the query string and execution configuration
String query = "SELECT * FROM my_table";
QueryExecutionContext queryExecutionContext = QueryExecutionContext.builder().build();
ResultConfiguration resultConfiguration = ResultConfiguration.builder().build();

// Create the QueryRequest object with the query and configuration
QueryRequest queryRequest = QueryRequest.builder()
    .queryString(query)
    .queryExecutionContext(queryExecutionContext)
    .resultConfiguration(resultConfiguration)
    .build();

// Use the QueryPaginator to execute the query and fetch all results
QueryPaginator queryPaginator = client.queryPaginator(queryRequest);
queryPaginator.stream()
    .flatMap(p -> p.resultSet().stream())
    .forEach(System.out::println);
