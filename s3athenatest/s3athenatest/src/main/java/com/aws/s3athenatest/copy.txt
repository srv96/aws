AmazonAthena client = AmazonAthenaClientBuilder.standard()
                .withRegion(Regions.US_EAST_1)
                .build();
String queryExecutionId = startQueryExecution(client, "SELECT * FROM my_table");
getQueryResults(client, queryExecutionId);

private static String startQueryExecution(AmazonAthena client, String query) {
    StartQueryExecutionRequest startQueryExecutionRequest = new StartQueryExecutionRequest()
            .withQueryString(query)
            .withResultConfiguration(new ResultConfiguration()
                    .withOutputLocation("s3://my-bucket/my-folder/"));
    StartQueryExecutionResult startQueryExecutionResult = client.startQueryExecution(startQueryExecutionRequest);
    return startQueryExecutionResult.getQueryExecutionId();
}

private static void getQueryResults(AmazonAthena client, String queryExecutionId) {
    GetQueryResultsRequest getQueryResultsRequest = new GetQueryResultsRequest()
            .withQueryExecutionId(queryExecutionId);

    boolean isFirstResult = true;
    String nextToken = null;

    do {
        if (!isFirstResult) {
            getQueryResultsRequest.setNextToken(nextToken);
        }

        GetQueryResultsResult getQueryResultsResult = client.getQueryResults(getQueryResultsRequest);
        List<Row> rows = getQueryResultsResult.getResultSet().getRows();

        // Process the rows here...

        nextToken = getQueryResultsResult.getNextToken();
        isFirstResult = false;
    } while (nextToken != null);
}
