

import java.util.Map;

public class FileDownloader {

    // Method to accept the Map representing file paths and download status
    public static void monitorDownloadStatus(Map<String, Boolean> downloadStatusMap) {
        int totalFiles = downloadStatusMap.size();

        while (downloadStatusMap.values().stream().filter(Boolean::booleanValue).count() < totalFiles) {
            double progressPercentage = (downloadStatusMap.values().stream().filter(Boolean::booleanValue).count() * 100.0) / totalFiles;
            System.out.println("Download Progress: " + progressPercentage + "%");

            try {
                Thread.sleep(10000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

        System.out.println("All files downloaded!");
    }

    public static void main(String[] args) {
        // Assume you have a downloadStatusMap with file paths and their download status
        Map<String, Boolean> downloadStatusMap = ...; // Populate the map here

        // Create a new thread to run the monitoring code
        Thread monitoringThread = new Thread(() -> monitorDownloadStatus(downloadStatusMap));
        monitoringThread.start();

        // Perform other tasks here...

        // Wait for the monitoring thread to finish (optional)
        try {
            monitoringThread.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
